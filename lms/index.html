<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>statu bar</title>
  <style media="screen">
  *{
        margin: 0;
        padding: 0;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
      }
      body{
        background: #b0bec5;
      }
      .main{
        margin: 50px auto;
        width: 60%;
      }
      .progressBar{
        position: relative;
        width: 100%;
        height: 40px;
        background: #eeeeee;
        margin-bottom: 20px;
        border-radius: 5px;
        box-shadow: 0 1px 2px #222;
      }
      .title{
        position: absolute;
        width: 100px;
        height: 40px;
        padding-left: 10px;
        float: left;
        font-weight: bold;
        color: #fff;
        line-height: 2.5;
        z-index: 10000;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
        box-shadow: 2px 0 2px #333;
        text-shadow: 1px 1px 1px #000;
      }
      .progress_value{
        position: relative;
        float: right;
        padding-right: 10px;
        line-height: 2.5;
        font-weight: bold;
        color: #455a64;
        z-index: 10000;
      }
      .progress{
        height: 40px;
        position: absolute;
        border-radius: 5px;
        box-shadow: 2px 0 2px #555;
      }
      .htmlColor{
        background: #b71c1c;
      }
      .cssColor{
        background: #4a148c;
      }
      .jsColor{
        background: #1a237e;
      }
      .phpColor{
        background: #1b5e20;
      }
      .ajaxColor{
        background: #ff6f00;
      }
      .html{
        background: #ec407a;
      }
      .css{
        background: #ab47bc;
      }
      .js{
        background: #5c6bc0;
      }
      .php{
        background: #66bb6a;
      }
      .progress{
        background: #ffca28;
      }
      @media (max-width: 720px) {
        .main{
          width: 90%;
        }
      }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src='https://www.google.com/recaptcha/api.js'></script>
</head>

<body>
  <h2>FE3</h2>
  <div class="main">
  <div class="progressBar">
    <div class="title htmlColor">HTML5</div>
    <div class="progress html"></div>
    <div class="progress_value">90%</div>
  </div>
  <div class="progressBar">
    <div class="title cssColor">CSS3</div>
    <div class="progress css"></div>
    <div class="progress_value">75%</div>
  </div>
  <div class="progressBar">
    <div class="title jsColor">JavaScript</div>
    <div class="progress js"></div>
    <div class="progress_value">50%</div>
  </div>
  <div class="progressBar">
    <div class="title phpColor">PHP</div>
    <div class="progress php"></div>
    <div class="progress_value">100%</div>
  </div>
  <div class="progressBar">
    <div class="title ajaxColor">Ajax</div>
    <div class="progress"></div>
    <div class="progress_value">100%</div>
  </div>
</div>
  <div class="form">
    <span>Фамилия  <input type="text" placeholder="Фамилия" id="surname"></span> <br> <br>
    <span>Имя <input type="text" placeholder="Имя" id="name"> </span> <br> <br>
    <span>Пароль <input type="password" placeholder="Пароль" id="pass"> </span> <br> <br>
    <span>Повторить пароль <input type="password" placeholder="Повторить пароль" id="pass"> </span>
    <br> <br>
    <span>Email<input type="mail" placeholder="Email" id="mail"> </span> <br> <br>
    <div class="g-recaptcha" data-sitekey="6LetMjcUAAAAAKjlPKjP7exYST7H7DLq2lWIbqOn"></div>
    <span> Согласен с условиями соглашения <input type="checkbox" name="Согласен с условиями соглашения" value=""> </span> <br> <br>
    <button onclick="fn3()">Зарегестрироватся</button>

  </div>
  <script type="text/javascript">
    $(".progressBar").each(function() {
      let proc = $(this).find(".progress_value").html();
      console.log(proc);
      $(this).find(".progress").animate({
        width: proc
      }, 2000);
      if (proc =='100%') {
      $(this).find(".progress").css({background: "green"}, 3000);
      console.log(this);
      }

    });


    function fn3() {
      let name = document.getElementById("name").value;
      let surname = document.getElementById("surname").value;
      let pass = document.getElementById("pass").value;
      var mail = document.getElementById("mail").value;

      surname = surname.trim();
      pass = pass.trim();
      mail = mail.trim();
      name = name.trim();

      fn4();

      function fn4() {
        if (!surname) {
          document.getElementById("surname").style.border = "2px solid red";
          alert("Поле фамилия не заполнено");
          return false;

        } else {
          document.getElementById("surname").style.border = "";
        }
        if (!name) {
          document.getElementById("name").style.border = "2px solid red";
          alert("Поле имя не заполнено");
          return false;
        } else {
          document.getElementById("name").style.border = "";
        }
        if (pass.length >= 5) {
          document.getElementById("pass").style.border = "";
          return fnmal();
        } else {
          document.getElementById("pass").style.border = "2px solid red";
          alert("Пароль має бути не менше 5 символів")
          return false;
        }

        function fnmal() {
          if ($('#mail').val() != '') {
            var pattern = /^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i;
            if (pattern.test($('#mail').val())) {
              $('#mail').css({
                'border': ''
              });
              return true;
            } else {
              $('#mail').css({
                'border': '2px solid #ff0000'
              });
              alert('Поле email заполнено не верно');
            }
          } else {
            $('#mail').css({
              'border': '2px solid #ff0000'
            });
            alert('Поле email не заполнено');
          }
        };
      }
    }
  </script>
</body>

</html>
